<!DOCTYPE html>
<html>
<head>
  <title>Collected Graph Data</title>
  <style>
    body {
      background-color: #f0f8ff;
      font-family: sans-serif;
      padding: 20px;
    }
    .entry {
      border: 2px solid #0088cc;
      border-radius: 10px;
      margin: 20px 0;
      padding: 10px;
      background-color: #ffffff;
    }
    img {
      width: 50%;
      height: 100%;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .delete-btn {
      background-color: #ff4c4c;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    .delete-btn:hover {
      background-color: #e04d4d;
    }
  </style>
</head>
<body>
  <h2>üìÅ Collected Graph Data</h2>
  <div id="entries"></div>

  <script>
    const container = document.getElementById('entries');

    const fakeGraphs = [
      {
        date: "April 16, 2025",
        inflow: "19:30 ‚Äì 19:45",
        outflow: "19:15 ‚Äì 19:30",
        image: "graphs/graph_11.png"
      },
      {
        date: "April 17, 2025",
        inflow: "11:15 ‚Äì 11:30",
        outflow: "11:30 ‚Äì 11:45",
        image: "graphs/graph_12.png"
      },
      {
        date: "April 18, 2025",
        inflow: "07:30 ‚Äì 08:00",
        outflow: "09:15 ‚Äì 09:30",
        image: "graphs/graph_13.png"
      },
      {
        date: "April 19, 2025",
        inflow: "11:15 ‚Äì 11:30",
        outflow: "11:30 ‚Äì 12:00",
        image: "graphs/graph_14.png"
      }
    ];

    fakeGraphs.forEach((g, i) => {
      const div = document.createElement('div');
      div.className = 'entry';
      div.innerHTML = `
        <h3>üìä Saved Entry ${i + 1} - ${g.date}</h3>
        <img src="${g.image}" alt="Graph - ${g.date}">
        <p><strong>Max Inflow:</strong> ${g.inflow}</p>
        <p><strong>Max Outflow:</strong> ${g.outflow}</p>
        <button class="delete-btn" onclick="deleteFakeGraph(this)">Delete</button>
      `;
      container.appendChild(div);
    });

    const savedGraphs = JSON.parse(localStorage.getItem('savedGraphs') || '[]');

    savedGraphs.forEach((item, index) => {
      const div = document.createElement('div');
      div.className = 'entry';
      div.innerHTML = `
        <h3>üìä Saved Entry ${index + fakeGraphs.length + 1} - ${item.timestamp}</h3>
        <img src="${item.image}" alt="Saved Graph">
        <p><strong>Max Inflow:</strong> ${item.inflowPeriod}</p>
        <p><strong>Max Outflow:</strong> ${item.outflowPeriod}</p>
        <button class="delete-btn" onclick="deleteSavedGraph(${index})">Delete</button>
      `;
      container.appendChild(div);
    });

    function deleteFakeGraph(button) {
      const entryDiv = button.closest('.entry');
      entryDiv.remove(); // Just remove it from the DOM (temporary)
    }

    function deleteSavedGraph(index) {
      const savedGraphs = JSON.parse(localStorage.getItem('savedGraphs') || '[]');
      savedGraphs.splice(index, 1);
      localStorage.setItem('savedGraphs', JSON.stringify(savedGraphs));
      window.location.reload();
    }
  </script>
</body>
</html>
